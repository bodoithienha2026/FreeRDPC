name: ğŸ–¥ï¸ REMOTE DESKTOP SERVICES

on: 
  workflow_dispatch:
    inputs:
      os_version:
        description: 'ğŸ“€ Select Operating System'
        required: true
        default: 'Windows Server 2025 (Native - 4vCPU | 16GB RAM)'
        type: choice
        options: 
          - "Windows Server 2025 (Native - 4vCPU | 16GB RAM)"
          - "Windows Server 2025 (Docker - 4vCPU | 8GB RAM)"
          - "Windows Server 2022 (Docker - 4vCPU | 8GB RAM)"
          - "Windows Server 2019 (Docker - 4vCPU | 8GB RAM)"
          - "Windows Server 2012 (Docker - 4vCPU | 8GB RAM)"
          - "Windows 11 Professional (Docker - 4vCPU | 8GB RAM)"
          - "Windows 10 Professional (Docker - 4vCPU | 8GB RAM)"
          - "Ubuntu 24.04 Desktop RDP (Native - 4vCPU | 16GB RAM)"

jobs:
  # ==================== JOB 1: WINDOWS SERVER 2025 NATIVE ====================
  windows-server-2025-native:
    if: github.event.inputs.os_version == 'Windows Server 2025 (Native - 4vCPU | 16GB RAM)'
    runs-on: windows-latest
    timeout-minutes: 360
    
    steps:
      - name: ğŸ”§ Initializing Windows Server 2025 (Native)
        run: |
          $ErrorActionPreference = 'SilentlyContinue'
          
          # Create Administrator Account
          net user Admin Window@123456 /add /expires:never /passwordchg:no
          net localgroup Administrators Admin /add
          net localgroup "Remote Desktop Users" Admin /add
          
          # Configure RDP Service
          Set-ItemProperty -Path 'HKLM:\System\CurrentControlSet\Control\Terminal Server' -Name "fDenyTSConnections" -Value 0 -Force
          Set-ItemProperty -Path 'HKLM:\System\CurrentControlSet\Control\Terminal Server\WinStations\RDP-Tcp' -Name "UserAuthentication" -Value 0 -Force
          netsh advfirewall firewall add rule name="RDP-3389" dir=in action=allow protocol=TCP localport=3389 profile=any
          
          # Start Kami Tunnel
          Start-Process powershell -ArgumentList "-NoProfile -Command `
            iwr https://github.com/kami2k1/tunnel/releases/latest/download/kami-tunnel-windows-amd64.tar.gz -OutFile kami-tunnel-windows-amd64.tar.gz; `
            tar -xzf kami-tunnel-windows-amd64.tar.gz; `
            .\kami-tunnel.exe 3389"

      - name: ğŸŒ Connection Information - Windows Server 2025
        if: github.event.inputs.os_version == 'Windows Server 2025 (Native - 4vCPU | 16GB RAM)'
        run: |
          Write-Host "ğŸ”„ Establishing connection to Windows Server 2025..." -ForegroundColor Cyan
          $ip = ""
          while (-not $ip) {
              if (Test-Path "kami_tunnel.txt") {
                  $content = Get-Content "kami_tunnel.txt"
                  if ($content -match '\.') { $ip = $content }
              }
              if (-not $ip) { Start-Sleep -Seconds 3 }
          }
          
          Write-Host "`nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—" -ForegroundColor Green
          Write-Host "â•‘      âœ… WINDOWS SERVER 2025 - READY FOR CONNECTION        â•‘" -ForegroundColor Green
          Write-Host "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£" -ForegroundColor White
          Write-Host "â•‘ ğŸŒ  Public IP   : $ip" -ForegroundColor Yellow
          Write-Host "â•‘ ğŸ‘¤  Username    : Admin" -ForegroundColor White
          Write-Host "â•‘ ğŸ”  Password    : Window@123456" -ForegroundColor White
          Write-Host "â•‘ ğŸ“  RDP Port    : 3389" -ForegroundColor White
          Write-Host "â•‘ ğŸ’»  Resources   : 4 vCPU | 16GB RAM" -ForegroundColor Cyan
          Write-Host "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•`n" -ForegroundColor Green

      - name: â° Maintaining Active Session
        if: github.event.inputs.os_version == 'Windows Server 2025 (Native - 4vCPU | 16GB RAM)'
        run: |
          $endTime = (Get-Date).AddMinutes(340)
          while ((Get-Date) -lt $endTime) {
              $left = $endTime - (Get-Date)
              Write-Host "`rğŸŸ¢ Windows Server 2025 Active | Remaining: $($left.ToString('hh\:mm\:ss'))" -NoNewline -ForegroundColor Green
              Start-Sleep -Seconds 10
          }

  # ==================== JOB 2: WINDOWS WITH DOCKER ====================
  windows-docker:
    if: |
      github.event.inputs.os_version != 'Windows Server 2025 (Native - 4vCPU | 16GB RAM)' &&
      github.event.inputs.os_version != 'Ubuntu 24.04 Desktop RDP (Native - 4vCPU | 16GB RAM)'
    runs-on: ubuntu-latest
    timeout-minutes: 360
    
    steps:
      - name: ğŸ”§ Initializing Windows System
        run: |
          sudo apt-get update > /dev/null 2>&1
          
          SELECTED_OS="${{ github.event.inputs.os_version }}"
          
          # Determine Windows Version
          if [[ "$SELECTED_OS" == *"2025"* ]]; then
            VERSION="2025"
            OS_NAME="Windows Server 2025"
          elif [[ "$SELECTED_OS" == *"2022"* ]]; then
            VERSION="2022"
            OS_NAME="Windows Server 2022"
          elif [[ "$SELECTED_OS" == *"2019"* ]]; then
            VERSION="2019"
            OS_NAME="Windows Server 2019"
          elif [[ "$SELECTED_OS" == *"2012"* ]]; then
            VERSION="2012"
            OS_NAME="Windows Server 2012"
          elif [[ "$SELECTED_OS" == *"11"* ]]; then
            VERSION="11"
            OS_NAME="Windows 11 Professional"
          elif [[ "$SELECTED_OS" == *"10"* ]]; then
            VERSION="10"
            OS_NAME="Windows 10 Professional"
          fi
          
          # Create Docker Compose Configuration with Port 8006 for Web Viewer
          cat <<EOF > docker-compose.yml
          version: "3.9"
          services:
            windows:
              image: dockurr/windows
              container_name: windows_rdp
              privileged: true
              environment:
                VERSION: "$VERSION"
                USERNAME: "Admin"
                PASSWORD: "Window@123456"
                RAM_SIZE: "8G"
                CPU_CORES: "4"
                DISK_SIZE: "60G"
              devices: [ "/dev/kvm" ]
              ports:
                - "3389:3389"
                - "8006:8006"
          EOF
          
          docker compose up -d > /dev/null 2>&1
          
          echo "OS_NAME=$OS_NAME" >> $GITHUB_ENV
          
          # Download Kami Tunnel
          wget -q https://github.com/kami2k1/tunnel/releases/latest/download/kami-tunnel-linux-amd64.tar.gz
          tar -xzf kami-tunnel-linux-amd64.tar.gz > /dev/null 2>&1
          chmod +x kami-tunnel
          
          # Start Kami Tunnel for RDP (Port 3389) - Táº¡o file kami_tunnel.txt
          nohup ./kami-tunnel 3389 > kami_tunnel_rdp.log 2>&1 &
          RDP_PID=$!
          echo "RDP Tunnel PID: $RDP_PID"
          
          # Chá» 5 giÃ¢y Ä‘á»ƒ tunnel khá»Ÿi Ä‘á»™ng hoÃ n toÃ n
          sleep 5
          
          # Start Kami Tunnel for Web Viewer (Port 8006) - Ghi Ä‘Ã¨ vÃ o kami_tunnel.txt
          nohup ./kami-tunnel 8006 > kami_tunnel_web.log 2>&1 &
          WEB_PID=$!
          echo "Web Tunnel PID: $WEB_PID"

      - name: ğŸŒ Connection Information - Windows System
        run: |
          echo "ğŸ”„ Establishing connection to $OS_NAME..."
          echo ""
          
          # ===== Äá»ŒC IP CHO RDP (PORT 3389) =====
          echo "â³ Waiting for RDP tunnel (Port 3389)..."
          RDP_IP=""
          RDP_RETRY=0
          
          while [ -z "$RDP_IP" ] && [ $RDP_RETRY -lt 60 ]; do
            # Äá»c tá»« file kami_tunnel.txt (Ä‘Æ°á»£c táº¡o bá»Ÿi tunnel Ä‘áº§u tiÃªn)
            if [ -f kami_tunnel.txt ]; then
              RDP_CONTENT=$(cat kami_tunnel.txt 2>/dev/null | head -1)
              if [[ "$RDP_CONTENT" =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:[0-9]+$ ]]; then
                RDP_IP="$RDP_CONTENT"
                echo "âœ… RDP IP captured: $RDP_IP"
                # Sao lÆ°u RDP IP ngay láº­p tá»©c
                echo "$RDP_IP" > kami_rdp_backup.txt
                break
              fi
            fi
            
            sleep 2
            RDP_RETRY=$((RDP_RETRY + 1))
            echo "   Retry $RDP_RETRY/60..."
          done
          
          if [ -z "$RDP_IP" ]; then
            echo "âŒ ERROR: Could not retrieve RDP IP"
            cat kami_tunnel_rdp.log 2>/dev/null || echo "No RDP log available"
            exit 1
          fi
          
          echo ""
          echo "â³ Waiting for Web Viewer tunnel (Port 8006)..."
          
          # Chá» thÃªm 3 giÃ¢y Ä‘á»ƒ tunnel 8006 khá»Ÿi Ä‘á»™ng
          sleep 3
          
          # ===== Äá»ŒC IP CHO WEB VIEWER (PORT 8006) =====
          WEB_IP=""
          WEB_RETRY=0
          
          while [ -z "$WEB_IP" ] && [ $WEB_RETRY -lt 60 ]; do
            # Äá»c tá»« file kami_tunnel.txt (sáº½ bá»‹ ghi Ä‘Ã¨ bá»Ÿi tunnel thá»© hai)
            if [ -f kami_tunnel.txt ]; then
              WEB_CONTENT=$(cat kami_tunnel.txt 2>/dev/null | tail -1)
              # Kiá»ƒm tra xem IP má»›i cÃ³ khÃ¡c vá»›i RDP IP khÃ´ng
              if [[ "$WEB_CONTENT" =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:[0-9]+$ ]] && [ "$WEB_CONTENT" != "$RDP_IP" ]; then
                WEB_IP="$WEB_CONTENT"
                echo "âœ… Web IP captured: $WEB_IP"
                break
              fi
            fi
            
            sleep 2
            WEB_RETRY=$((WEB_RETRY + 1))
            echo "   Retry $WEB_RETRY/60..."
          done
          
          # Náº¿u khÃ´ng láº¥y Ä‘Æ°á»£c Web IP riÃªng, táº¡o tá»« RDP IP
          if [ -z "$WEB_IP" ]; then
            echo "âš ï¸  Warning: Could not retrieve separate Web IP, constructing from RDP IP..."
            BASE_IP="${RDP_IP%:*}"
            WEB_IP="${BASE_IP}:8006"
            echo "ğŸ“ Constructed Web IP: $WEB_IP"
          fi
          
          # ===== HIá»‚N THá»Š THÃ”NG TIN Káº¾T Ná»I =====
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘              âœ… $OS_NAME - READY FOR CONNECTION                    â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘                                                                       â•‘"
          echo "â•‘  ğŸ–¥ï¸  REMOTE DESKTOP CONNECTION (RDP)                                  â•‘"
          echo "â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘"
          echo "â•‘  ğŸŒ  RDP Address    : $RDP_IP"
          echo "â•‘  ğŸ‘¤  Username       : Admin                                           â•‘"
          echo "â•‘  ğŸ”  Password       : Window@123456                                   â•‘"
          echo "â•‘  ğŸ“  Port           : 3389                                            â•‘"
          echo "â•‘                                                                       â•‘"
          echo "â•‘  ğŸŒ  WEB VIEWER (Installation Progress Monitor)                      â•‘"
          echo "â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘"
          echo "â•‘  ğŸ”—  Web Address    : http://$WEB_IP"
          echo "â•‘  ğŸ“  Port           : 8006                                            â•‘"
          echo "â•‘                                                                       â•‘"
          echo "â•‘  ğŸ’»  SYSTEM RESOURCES                                                 â•‘"
          echo "â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘"
          echo "â•‘  âš¡  CPU            : 4 vCPU                                          â•‘"
          echo "â•‘  ğŸ§   RAM            : 8GB                                             â•‘"
          echo "â•‘  ğŸ’¾  Storage        : 60GB                                            â•‘"
          echo "â•‘                                                                       â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          echo "ğŸ’¡ TIP: Use Web Viewer to monitor Windows installation progress in real-time!"
          echo ""
          
          # LÆ°u thÃ´ng tin vÃ o environment
          echo "RDP_IP=$RDP_IP" >> $GITHUB_ENV
          echo "WEB_IP=$WEB_IP" >> $GITHUB_ENV

      - name: â° Maintaining Active Session
        run: |
          echo ""
          echo "ğŸŸ¢ Session started - Maintaining connection for 6 hours..."
          echo ""
          
          for i in {1..72}; do
            ELAPSED=$((i * 5))
            REMAINING=$((360 - ELAPSED))
            
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "ğŸŸ¢ [$(date +'%Y-%m-%d %H:%M:%S')] $OS_NAME - ACTIVE SESSION"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "â±ï¸  Time Elapsed    : ${ELAPSED} minutes"
            echo "â³  Time Remaining  : ${REMAINING} minutes"
            echo "ğŸ–¥ï¸  RDP Connection  : $RDP_IP"
            echo "ğŸŒ  Web Viewer      : http://$WEB_IP"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo ""
            
            sleep 300
          done

  # ==================== JOB 3: UBUNTU DESKTOP RDP NATIVE ====================
  ubuntu-desktop-rdp:
    if: github.event.inputs.os_version == 'Ubuntu 24.04 Desktop RDP (Native - 4vCPU | 16GB RAM)'
    runs-on: ubuntu-latest
    timeout-minutes: 360
    
    steps:
      - name: ğŸ”§ Initializing Ubuntu Desktop with RDP
        run: |
          # Update system
          sudo apt-get update > /dev/null 2>&1
          
          # Install XFCE Desktop Environment (lightweight)
          sudo DEBIAN_FRONTEND=noninteractive apt-get install -y \
            xfce4 xfce4-goodies xorg dbus-x11 x11-xserver-utils > /dev/null 2>&1
          
          # Install XRDP Server
          sudo apt-get install -y xrdp > /dev/null 2>&1
          
          # Configure XRDP
          sudo systemctl enable xrdp > /dev/null 2>&1
          echo "xfce4-session" | tee ~/.xsession > /dev/null
          sudo systemctl restart xrdp > /dev/null 2>&1
          
          # Create Administrator Account
          sudo useradd -m -s /bin/bash Admin
          echo "Admin:Ubuntu@123456" | sudo chpasswd
          sudo usermod -aG sudo Admin
          
          # Configure XRDP for new user
          sudo -u Admin bash -c "echo 'xfce4-session' > /home/Admin/.xsession"
          
          # Download Kami Tunnel
          wget -q https://github.com/kami2k1/tunnel/releases/latest/download/kami-tunnel-linux-amd64.tar.gz
          tar -xzf kami-tunnel-linux-amd64.tar.gz > /dev/null 2>&1
          chmod +x kami-tunnel
          
          # Start Kami Tunnel for Port 3389 - Táº¡o file kami_tunnel.txt
          nohup ./kami-tunnel 3389 > kami_tunnel.log 2>&1 &
          TUNNEL_PID=$!
          echo "Tunnel PID: $TUNNEL_PID"

      - name: ğŸŒ Connection Information - Ubuntu Desktop RDP
        run: |
          echo "ğŸ”„ Establishing connection to Ubuntu 24.04 Desktop..."
          echo ""
          
          # Äá»£i file kami_tunnel.txt Ä‘Æ°á»£c táº¡o
          echo "â³ Waiting for tunnel connection..."
          RETRY=0
          while [ ! -f kami_tunnel.txt ] && [ $RETRY -lt 60 ]; do
            sleep 2
            RETRY=$((RETRY + 1))
            echo "   Retry $RETRY/60..."
          done
          
          if [ ! -f kami_tunnel.txt ]; then
            echo "âŒ ERROR: kami_tunnel.txt not created"
            cat kami_tunnel.log 2>/dev/null || echo "No tunnel log available"
            exit 1
          fi
          
          # Äá»c RDP IP tá»« file
          RDP_IP=""
          RETRY=0
          while [ -z "$RDP_IP" ] && [ $RETRY -lt 60 ]; do
            RDP_CONTENT=$(cat kami_tunnel.txt 2>/dev/null | head -1)
            if [[ "$RDP_CONTENT" =~ ^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+:[0-9]+$ ]]; then
              RDP_IP="$RDP_CONTENT"
              echo "âœ… RDP IP captured: $RDP_IP"
              break
            fi
            sleep 2
            RETRY=$((RETRY + 1))
            echo "   Retry $RETRY/60..."
          done
          
          if [ -z "$RDP_IP" ]; then
            echo "âŒ ERROR: Could not retrieve RDP IP from kami_tunnel.txt"
            cat kami_tunnel.txt 2>/dev/null || echo "File is empty"
            exit 1
          fi
          
          # Hiá»ƒn thá»‹ thÃ´ng tin káº¿t ná»‘i
          echo ""
          echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
          echo "â•‘         âœ… UBUNTU 24.04 DESKTOP RDP - READY FOR CONNECTION           â•‘"
          echo "â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£"
          echo "â•‘                                                                       â•‘"
          echo "â•‘  ğŸ–¥ï¸  REMOTE DESKTOP CONNECTION (RDP)                                  â•‘"
          echo "â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘"
          echo "â•‘  ğŸŒ  RDP Address    : $RDP_IP"
          echo "â•‘  ğŸ‘¤  Username       : Admin                                           â•‘"
          echo "â•‘  ğŸ”  Password       : Ubuntu@123456                                   â•‘"
          echo "â•‘  ğŸ“  Port           : 3389                                            â•‘"
          echo "â•‘                                                                       â•‘"
          echo "â•‘  ğŸ–¥ï¸  DESKTOP ENVIRONMENT                                              â•‘"
          echo "â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘"
          echo "â•‘  ğŸ¨  Desktop        : XFCE4 (Lightweight & Fast)                     â•‘"
          echo "â•‘  ğŸ”§  RDP Server     : XRDP                                            â•‘"
          echo "â•‘                                                                       â•‘"
          echo "â•‘  ğŸ’»  SYSTEM RESOURCES                                                 â•‘"
          echo "â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â•‘"
          echo "â•‘  âš¡  CPU            : 4 vCPU                                          â•‘"
          echo "â•‘  ğŸ§   RAM            : 16GB                                            â•‘"
          echo "â•‘                                                                       â•‘"
          echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
          echo ""
          
          # LÆ°u vÃ o environment
          echo "RDP_IP=$RDP_IP" >> $GITHUB_ENV

      - name: â° Maintaining Active Session
        run: |
          echo ""
          echo "ğŸŸ¢ Session started - Maintaining connection for 6 hours..."
          echo ""
          
          for i in {1..72}; do
            ELAPSED=$((i * 5))
            REMAINING=$((360 - ELAPSED))
            
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "ğŸŸ¢ [$(date +'%Y-%m-%d %H:%M:%S')] Ubuntu 24.04 Desktop RDP - ACTIVE SESSION"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo "â±ï¸  Time Elapsed    : ${ELAPSED} minutes"
            echo "â³  Time Remaining  : ${REMAINING} minutes"
            echo "ğŸ–¥ï¸  RDP Connection  : $RDP_IP"
            echo "ğŸ¨  Desktop         : XFCE4"
            echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
            echo ""
            
            sleep 300
          done
